{% extends "base.html" %}

{% block extra_styles %}
    .dashboard-avatar {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        object-fit: cover;
        margin-right: 15px;
        float: left;
    }
    .profile-card::after {
        content: "";
        display: table;
        clear: both;
    }
{% endblock %}

{% block title %}Dashboard - Mingleoo.com{% endblock %}

{% block content %}
    <h1>OlÃ¡, {{ username }}! ;D</h1>
    <p>Explore perfis e encontre pessoas como vocÃª.</p>

    <form action="/search" method="GET">
        <input type="text" name="tag" placeholder="#exemplo" required>
        <button type="submit" class="btn">Pesquisar</button>
    </form>

    <form action="{{ url_for('surprise') }}" method="GET" style="margin-top:20px;">
        <button type="submit" class="btn">Surpreenda-me!</button>
    </form>

    <hr>

    <h2>Perfis que combinam com vocÃª:</h2>

    {% if compatible_users %}
        {% for u in compatible_users %}
        <div class="profile-card">
            <img src="{{ u.avatar_url or url_for('static', filename='images/1.png') }}" alt="Avatar de {{ u.name }}" class="dashboard-avatar">
            <h3>{{ u.name }}</h3>
            <p>{{ u.bio }}</p>
            <p>{{ u.common_tags }} hashtags em comum</p>
            <a href="{{ url_for('view_profile', user_id=u.id) }}" class="btn">Ver perfil</a>
        </div>
        {% endfor %}
    {% else %}
        <p>Nenhum perfil encontrado com hashtags em comum ðŸ˜Ž</p>
    {% endif %}
{% endblock %}
